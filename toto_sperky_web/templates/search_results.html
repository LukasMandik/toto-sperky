{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/search_results.css' %}">
<div class="search_results_wrapper">
    <div class="search-results">
        {% include 'partials/search_suggestions.html' %}
        <div class="results-text">
            <div class="results"> Hľadanie pre "{{ query|truncatewords:2 }}" </div>
        </div>
        {% if results %}
        {% for result in results %}
            <a href="{{ result.get_absolute_url }}">
                <div class="result-item">
                    {% if result.video_thumbnail %}
                    <video class="video_result" src="{{ result.video_thumbnail.url }}" autoplay muted playsinline></video>
                    {% elif result.video %}
                    <video class="video_result" src="{{ result.video.url }}" autoplay muted playsinline></video>
                    {% elif result.image_thumbnail %}
                    <img class="image_result" src="{{ result.image_thumbnail.url }}" alt="{{ result.name }}" />
                    {% elif result.image %}
                    <img class="image_result" src="{{ result.image.url }}" alt="{{ result.name }}" />
                    {% elif result.images.first %}
                    <img class="image_result" src="{{ result.images.first.image_thumbnail.url }}" alt="{{ result.name }}" />
                    {% endif %}
                    <div class="name-and-description">
                        <div class="name"> {{ result.name }} </div>
                        <p class="description"> {{ result.description }}</p>
                        <span>Najdené podľa: {{ result.search_type }}</span>
                    </div>
                </div>
            </a>
        {% endfor %}
        {% else %}
            <p>Žiadny výsledok pre "{{ query }}".</p>
        {% endif %}
        <div class="button_back">
            <button class="back" onclick="handleBackButton()">
            <p>Späť</p>
            <div class="svg_button_back">
                
                <svg class="svgIcon" viewBox="0 0 384 512">
                
                <path
                d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z" stroke-width="1.1" >
                </path>
            </svg>
            </div>
            </button>
        </div>
        
    </div>
</div>

{% endblock %}





